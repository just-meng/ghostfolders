Bootstrap: docker
From: python:3.10-slim

%post
    apt-get update && apt-get install -y --no-install-recommends \
        git \
        build-essential \
        && rm -rf /var/lib/apt/lists/*

    python -m pip install --upgrade pip setuptools wheel

    pip install \
        numpy==1.23.5 \
        scipy==1.10.1 \
        scikit-learn==1.2.2 \
        pandas \
        joblib \
        joblib-progress \
        argparse \
        matplotlib \
        seaborn \
        pillow \
        suite2p \
        fissa \
        tqdm \
        roifile \
        scikit-image \
        pathlib \
        glob2

%environment
    export PATH=/usr/local/bin:$PATH
    export PYTHONUNBUFFERED=1

%runscript
    exec python "$@"

